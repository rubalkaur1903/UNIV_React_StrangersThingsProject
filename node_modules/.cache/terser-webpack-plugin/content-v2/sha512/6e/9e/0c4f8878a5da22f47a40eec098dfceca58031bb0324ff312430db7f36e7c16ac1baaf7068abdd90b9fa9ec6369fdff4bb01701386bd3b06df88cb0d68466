{"code":"(this.webpackJsonpuniv_react_strangersthingsproject=this.webpackJsonpuniv_react_strangersthingsproject||[]).push([[0],{33:function(e,t,s){},34:function(e,t,s){\"use strict\";s.r(t);var n=s(3),c=s.n(n),r=s(7),a=s(5),i=s(1),o=s(17),j=s.n(o),l=s(4),u=s(2),b=function(){var e=Object(r.a)(c.a.mark((function e(t){var s,n,r,a,i,o,j;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.url,n=t.method,r=t.token,a=t.body,e.prev=1,i={method:n?n.toUpperCase():\"GET\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(a)},r&&(i.headers.Authorization=\"Bearer \".concat(r)),e.next=6,fetch(\"\".concat(\"https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT\").concat(s),i);case 6:return o=e.sent,e.next=9,o.json();case 9:return(j=e.sent).error&&j.error,e.abrupt(\"return\",j);case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case\"end\":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}(),d=s(0),h=function(e){var t=e.post,s=e.children;return t?Object(d.jsxs)(\"div\",{className:\"single-post\",children:[Object(d.jsx)(\"h3\",{children:Object(d.jsxs)(\"b\",{children:[\"Seller's Username: \",t.author.username]})}),Object(d.jsx)(\"div\",{children:Object(d.jsx)(\"b\",{children:Object(d.jsx)(\"i\",{children:t.title})})}),Object(d.jsxs)(\"div\",{children:[\"Price: \",t.price?t.price:\"[On Request]\"]}),Object(d.jsxs)(\"div\",{children:[\"Description: \",t.description]}),Object(d.jsxs)(\"div\",{children:[\"Location: \",t.location?t.location:\"[On Request]\"]}),Object(d.jsxs)(\"div\",{children:[\"Will Deliver? -- \",t.willDeliver?\"yes\":\"no\"]}),s]}):\"Loading....\"},p=function(e){var t=e.posts,s=(e.setPostId,e.token),n=e.fetchPosts,a=function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({method:\"DELETE\",url:\"/posts/\".concat(t),token:s});case 2:return e.sent,e.next=5,n();case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[s?Object(d.jsx)(l.b,{className:\"add-post-link\",to:\"/addpost\",children:\"Add Post\"}):\"\",Object(d.jsx)(\"h1\",{children:\"Posts\"}),t.map((function(e){return Object(d.jsxs)(h,{id:\"posts\",post:e,token:s,children:[Object(d.jsx)(l.b,{to:\"/posts/\".concat(e._id),children:\"Details\"}),e.isAuthor&&Object(d.jsx)(\"button\",{onClick:function(){return a(e._id)},children:\"Delete Post\"})]},e._id)}))]})},O=function(e){var t=e.setToken,s=e.setUser,n=Object(i.useState)(\"\"),o=Object(a.a)(n,2),j=o[0],l=o[1],h=Object(i.useState)(\"\"),p=Object(a.a)(h,2),O=p[0],x=p[1],m=Object(u.f)(),f=Object(u.e)();return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(\"form\",{className:\"inputs\",onSubmit:function(){var e=Object(r.a)(c.a.mark((function e(n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,b({url:\"/users/\".concat(m.method),method:\"POST\",body:{user:{username:j,password:O}}});case 3:if(!(r=e.sent).data){e.next=13;break}return e.next=7,b({url:\"/users/me\",token:r.data.token});case 7:if(a=e.sent,t(r.data.token),s(a.data.username),r.data.token&&f.push(\"/\"),O){e.next=13;break}throw\"wrong username or password\";case 13:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(d.jsx)(\"input\",{className:\"inputs\",type:\"text\",placeholder:\"Enter Username\",minLength:8,value:j,onChange:function(e){return l(e.target.value)}}),Object(d.jsx)(\"input\",{className:\"inputs\",type:\"password\",placeholder:\"Enter Password\",minLength:8,value:O,onChange:function(e){return x(e.target.value)}}),Object(d.jsx)(\"button\",{className:\"btn-input\",type:\"submit\",children:\"Submit\"})]})})},x=function(e){var t=e.username,s=e.token;return Object(d.jsxs)(\"div\",{id:\"welcome\",children:[s?Object(d.jsx)(\"h1\",{className:\"title\",children:\"Strager's Things\"}):Object(d.jsx)(\"h1\",{className:\"title\",children:\" Welcome to Strager's Things\"}),s?Object(d.jsxs)(\"div\",{className:\"welcome-message\",children:[\"Welcome! You are logged in as \",t,\"!\"]}):\"\",s?Object(d.jsx)(l.b,{className:\"profile-link\",to:\"/profile\",children:\"View Profile\"}):\"\",Object(d.jsx)(\"img\",{className:\"the-image\",src:\"https://images-na.ssl-images-amazon.com/images/I/610wb0SooJL.png\",alt:\"image of shopping online\"})]})},m=function(e){var t=e.setToken;return Object(d.jsx)(l.b,{className:\"main-link\",to:\"/\",onClick:function(){return t(\"\")},children:\"LOGOUT\"})},f=function(e){var t=Object(i.useState)(\"\"),s=Object(a.a)(t,2),n=s[0],o=s[1],j=Object(i.useState)(\"\"),l=Object(a.a)(j,2),h=l[0],p=l[1],O=Object(i.useState)(\"\"),x=Object(a.a)(O,2),m=x[0],f=x[1],v=Object(i.useState)(\"\"),g=Object(a.a)(v,2),k=g[0],S=g[1],y=Object(i.useState)(\"\"),P=Object(a.a)(y,2),w=P[0],N=P[1],T=e.token,C=e.setPosts,D=Object(u.e)(),E=function(){var e=Object(r.a)(c.a.mark((function e(t){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b({url:\"/posts\",method:\"POST\",body:{post:{title:n,price:h,description:m,location:k,willDeliver:w}},token:T});case 3:return e.sent,e.next=6,b({url:\"/posts\",token:T});case 6:s=e.sent,C(s.data.posts),o(\"\"),p(\"\"),f(\"\"),s.data.posts&&D.push(\"/posts\");case 12:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)(d.Fragment,{children:T&&Object(d.jsxs)(\"div\",{children:[Object(d.jsx)(\"h1\",{children:\"Add New Post\"}),Object(d.jsxs)(\"form\",{onSubmit:E,children:[Object(d.jsxs)(\"fieldset\",{children:[Object(d.jsx)(\"label\",{children:\"Title: \"}),Object(d.jsx)(\"input\",{type:\"text\",placeholder:\"*title*\",value:n,onChange:function(e){o(e.target.value)}})]}),Object(d.jsxs)(\"fieldset\",{children:[Object(d.jsx)(\"label\",{children:\"Price: \"}),Object(d.jsx)(\"input\",{type:\"text\",placeholder:\"price\",value:h,onChange:function(e){p(e.target.value)}})]}),Object(d.jsxs)(\"fieldset\",{children:[Object(d.jsx)(\"label\",{children:\"Description: \"}),Object(d.jsx)(\"input\",{type:\"text\",placeholder:\"description\",value:m,onChange:function(e){f(e.target.value)}})]}),Object(d.jsxs)(\"fieldset\",{children:[Object(d.jsx)(\"label\",{children:\"Location: \"}),Object(d.jsx)(\"input\",{type:\"text\",placeholder:\"location\",value:k,onChange:function(e){S(e.target.value)}})]}),Object(d.jsxs)(\"fieldset\",{children:[Object(d.jsx)(\"label\",{children:\"Will Deliver? \"}),Object(d.jsxs)(\"select\",{type:\"text\",value:w,onChange:function(e){return N(e.target.value)},children:[Object(d.jsx)(\"option\",{value:\"\",children:\"Select\"}),Object(d.jsx)(\"option\",{value:\"true\",children:\"Yes\"}),Object(d.jsx)(\"option\",{value:\"false\",children:\"No\"})]})]}),Object(d.jsx)(\"fieldset\",{children:Object(d.jsx)(\"button\",{className:\"newpost-submit\",type:\"submit\",children:\"Submit\"})})]})]})})},v=function(e){var t=e.post,s=e.token,n=e.fetchPosts,o=Object(u.f)().postId,j=Object(i.useState)(\"\"),l=Object(a.a)(j,2),h=l[0],p=l[1],O=function(){var e=Object(r.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b({method:\"POST\",url:\"/posts/\".concat(o,\"/messages\"),token:s,body:{message:{content:h}}});case 3:return r=e.sent,p(r.data.message.content),e.next=7,n();case 7:p(\"\");case 8:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(d.Fragment,{children:[s&&!t.isAuthor?Object(d.jsxs)(\"form\",{onSubmit:O,children:[Object(d.jsx)(\"input\",{value:h,placeholder:\"content\",onChange:function(e){return p(e.target.value)}}),Object(d.jsx)(\"button\",{type:\"submit\",children:\"Send Message\"})]}):\"\",t.isAuthor&&t.messages.length?Object(d.jsxs)(\"form\",{onSubmit:O,children:[Object(d.jsx)(\"input\",{value:h,placeholder:\"content\",onChange:function(e){return p(e.target.value)}}),Object(d.jsx)(\"button\",{type:\"submit\",children:\"Send Message\"})]}):\"\"]})},g=function(e){var t=e.posts,s=e.token,n=e.fetchPosts,c=Object(u.f)().postId;console.log(\"postId\",c);var r=t.find((function(e){return e._id===c}));return console.log(\"post: \",r),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(h,{post:r,children:[r&&r.messages&&r.messages.map((function(e){return Object(d.jsxs)(\"div\",{children:[e.fromUser.username,\": \",e.content]},e._id)})),Object(d.jsx)(v,{post:r,token:s,fetchPosts:n})]})})},k=function(e){var t=e.token,s=e.messages,n=e.user,a=e.setMesaages,i=Object(u.e)(),o=function(){var e=Object(r.a)(c.a.mark((function e(){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({url:\"/users/me\",token:t});case 2:s=e.sent,a(s.data.messages);case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t||i.push(\"/\"),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(\"h1\",{children:\"My Profile\"}),Object(d.jsx)(\"form\",{onSubmit:function(e){e.preventDefault(),o()},children:Object(d.jsx)(\"button\",{type:\"submit\",children:\"Click for Messages\"})}),Object(d.jsx)(\"h2\",{children:\"Sent Messages\"}),t?s.map((function(e,t){return Object(d.jsx)(\"div\",{children:n===e.fromUser.username?Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(\"div\",{children:[Object(d.jsxs)(\"div\",{children:[Object(d.jsx)(\"b\",{children:\"Product Title: \"}),'\"',e.post.title,'\" ']}),Object(d.jsxs)(\"div\",{children:[Object(d.jsx)(\"b\",{children:\"Product ID: \"}),e.post._id]}),Object(d.jsxs)(\"div\",{children:[Object(d.jsx)(\"b\",{children:\"Message Sent by Me: \"}),e.content]}),Object(d.jsx)(\"hr\",{})]})}):\"\"},t)})):\"\",Object(d.jsx)(\"h2\",{children:\"Received Messages\"}),t?s.map((function(e,t){return Object(d.jsx)(\"div\",{children:n!==e.fromUser.username?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(\"div\",{children:[Object(d.jsx)(\"b\",{children:\"Product Title: \"}),'\"',e.post.title,'\" ']}),Object(d.jsxs)(\"div\",{children:[Object(d.jsx)(\"b\",{children:\"Product ID: \"}),e.post._id]}),Object(d.jsxs)(\"div\",{children:[Object(d.jsx)(\"b\",{children:\"Message: \"}),e.content]}),Object(d.jsx)(\"hr\",{})]}):\"\"},t)})):\"\"]})},S=function(e){var t=e.posts,s=e.setPosts,n=e.fetchPosts,c=Object(i.useState)(\"\"),r=Object(a.a)(c,2),o=r[0],j=r[1];return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(\"form\",{className:\"search-form\",onSubmit:function(e){e.preventDefault(),function(){var e=t.filter((function(e){return function(e,t){return e.includes(t)}(e.title.toLowerCase(),o)}));s(e),o.length||n()}()},children:[Object(d.jsx)(\"input\",{type:\"text\",placeholder:\"search by title\",className:\"search-input\",value:o,onChange:function(e){return j(e.target.value)}}),Object(d.jsx)(\"button\",{type:\"submit\",className:\"search-btn\",children:\"Search\"})]})})},y=(s(33),function(){var e=Object(i.useState)([]),t=Object(a.a)(e,2),s=t[0],n=t[1],o=Object(i.useState)(\"\"),j=Object(a.a)(o,2),h=j[0],v=j[1],y=Object(i.useState)(\"\"),P=Object(a.a)(y,2),w=P[0],N=P[1],T=Object(i.useState)(\"\"),C=Object(a.a)(T,2),D=(C[0],C[1]),E=Object(i.useState)([]),I=Object(a.a)(E,2),M=I[0],L=I[1],_=function(){var e=Object(r.a)(c.a.mark((function e(){var t,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({url:\"/posts\",token:h});case 2:t=e.sent,(s=t.data.posts)&&n(s);case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){try{_()}catch(e){console.log(e)}}),[h]),Object(d.jsx)(l.a,{children:Object(d.jsxs)(\"div\",{id:\"container\",children:[Object(d.jsxs)(\"div\",{className:\"navbar\",children:[Object(d.jsx)(l.b,{className:\"main-link\",to:\"/\",children:\"HOME\"}),Object(d.jsx)(l.b,{className:\"main-link\",to:\"/posts\",children:\"POSTS\"}),h&&Object(d.jsx)(l.b,{className:\"main-link\",to:\"/profile\",children:\"PROFILE\"}),h?Object(d.jsx)(m,{setToken:v}):Object(d.jsx)(l.b,{className:\"main-link\",to:\"/account/:method\",children:\"LOGIN/REGISTER\"})]}),Object(d.jsx)(u.a,{exact:!0,path:\"/\",children:Object(d.jsx)(x,{username:w,token:h,posts:s})}),Object(d.jsxs)(u.a,{exact:!0,path:\"/posts\",children:[Object(d.jsx)(S,{posts:s,setPosts:n,fetchPosts:_}),Object(d.jsx)(p,{posts:s,token:h,fetchPosts:_,setPostId:D})]}),Object(d.jsx)(u.a,{exact:!0,path:\"/addpost\",children:Object(d.jsx)(f,{token:h,setPosts:n})}),Object(d.jsx)(u.a,{exact:!0,path:\"/posts/:postId\",children:Object(d.jsx)(g,{posts:s,token:h,fetchPosts:_})}),Object(d.jsx)(u.a,{exact:!0,path:\"/profile\",children:Object(d.jsx)(k,{token:h,messages:M,setMesaages:L,user:w})}),Object(d.jsxs)(u.a,{exact:!0,path:\"/account/:method\",children:[Object(d.jsx)(l.b,{className:\"links\",to:\"/account/login\",children:\"Login\"}),Object(d.jsx)(l.b,{className:\"links\",to:\"/account/register\",children:\"Register\"}),Object(d.jsx)(O,{setToken:v,setUser:N})]})]})})});j.a.render(Object(d.jsx)(y,{}),document.getElementById(\"app\"))}},[[34,1,2]]]);","name":"static/js/main.3b437150.chunk.js","map":{"version":3,"sources":["static/js/main.3b437150.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","regenerator","regenerator_default","n","asyncToGenerator","slicedToArray","react","react_dom","react_dom_default","react_router_dom","react_router","callApi","_ref2","Object","a","mark","_callee","_ref","url","method","token","body","options","response","data","wrap","_context","prev","next","toUpperCase","headers","JSON","stringify","concat","fetch","sent","json","error","abrupt","t0","console","stop","_x","apply","arguments","jsx_runtime","Components_PostSingle","post","children","className","author","username","title","price","description","location","willDeliver","DeletePost","props","posts","setPostId","fetchPosts","handleDelete","postId","to","map","id","_id","isAuthor","onClick","Components_AccountForm","setToken","setUser","_useState","_useState2","setUsername","_useState3","_useState4","password","setPassword","params","history","onSubmit","event","loginResp","userResp","preventDefault","user","type","placeholder","minLength","value","onChange","target","Components_Home","src","alt","Components_Logout","AddPosts","setTitle","setPrice","_useState5","_useState6","setDescription","_useState7","_useState8","setLocation","_useState9","_useState10","setWillDeliver","setPosts","handleAdd","ev","newPostResp","Components_MessageForm","content","setContent","handleSubmit","messageResp","message","messages","length","Components_PostView","log","postResp","find","fromUser","Components_MyProfile","setMesaages","idx","Components_Search","searchTerm","setSearchTerm","filteredPosts","filter","text","includes","postMatches","toLowerCase","src_App","setMessages","allPosts","exact","path","render","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpuniv_react_strangersthingsproject\"] = this[\"webpackJsonpuniv_react_strangersthingsproject\"] || []).push([[0],{\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(3);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(17);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/util/index.js\nvar REACT_APP_BASE_URL=\"https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT\";var callApi=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(_ref){var url,method,token,body,options,response,data;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=_ref.url,method=_ref.method,token=_ref.token,body=_ref.body;_context.prev=1;options={method:method?method.toUpperCase():'GET',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)};if(token)options.headers['Authorization']=\"Bearer \".concat(token);_context.next=6;return fetch(\"\".concat(REACT_APP_BASE_URL).concat(url),options);case 6:response=_context.sent;_context.next=9;return response.json();case 9:data=_context.sent;if(data.error){data.error;}return _context.abrupt(\"return\",data);case 14:_context.prev=14;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[1,14]]);}));return function callApi(_x){return _ref2.apply(this,arguments);};}();\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/Components/PostSingle.js\nvar PostSingle_PostSingle=function PostSingle(_ref){var post=_ref.post,children=_ref.children;return post?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"single-post\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"b\",{children:[\"Seller's Username: \",post.author.username]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{children:post.title})})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Price: \",post.price?post.price:'[On Request]']}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Description: \",post.description]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Location: \",post.location?post.location:'[On Request]']}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"Will Deliver? -- \",post.willDeliver?'yes':'no']}),children]}):'Loading....';};/* harmony default export */ var Components_PostSingle = (PostSingle_PostSingle);\n// CONCATENATED MODULE: ./src/Components/DeletePost.js\nvar DeletePost_DeletePosts=function DeletePosts(props){var posts=props.posts,setPostId=props.setPostId,token=props.token,fetchPosts=props.fetchPosts;var handleDelete=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(postId){var deleteResp;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return callApi({method:'DELETE',url:\"/posts/\".concat(postId),token:token});case 2:deleteResp=_context.sent;_context.next=5;return fetchPosts();case 5:case\"end\":return _context.stop();}}},_callee);}));return function handleDelete(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[token?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"add-post-link\",to:\"/addpost\",children:\"Add Post\"}):'',/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Posts\"}),posts.map(function(post){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Components_PostSingle,{id:\"posts\",post:post,token:token,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/posts/\".concat(post._id),children:\"Details\"}),post.isAuthor&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return handleDelete(post._id);},children:\"Delete Post\"})]},post._id);})]});};/* harmony default export */ var DeletePost = (DeletePost_DeletePosts);\n// CONCATENATED MODULE: ./src/Components/AccountForm.js\nvar AccountForm_REACT_APP_BASE_URL=\"https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT\";var AccountForm_AccountForm=function AccountForm(_ref){var setToken=_ref.setToken,setUser=_ref.setUser;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var params=Object(react_router[\"f\" /* useParams */])();var history=Object(react_router[\"e\" /* useHistory */])();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"inputs\",onSubmit:/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(event){var loginResp,userResp;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return callApi({url:\"/users/\".concat(params.method),method:'POST',body:{user:{username:username,password:password}}});case 3:loginResp=_context.sent;if(!loginResp.data){_context.next=13;break;}_context.next=7;return callApi({url:'/users/me',token:loginResp.data.token});case 7:userResp=_context.sent;setToken(loginResp.data.token);setUser(userResp.data.username);if(loginResp.data.token){history.push('/');}if(password){_context.next=13;break;}throw'wrong username or password';case 13:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}(),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"inputs\",type:\"text\",placeholder:\"Enter Username\",minLength:8,value:username,onChange:function onChange(event){return setUsername(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"inputs\",type:\"password\",placeholder:\"Enter Password\",minLength:8,value:password,onChange:function onChange(event){return setPassword(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn-input\",type:\"submit\",children:\"Submit\"})]})});};/* harmony default export */ var Components_AccountForm = (AccountForm_AccountForm);\n// CONCATENATED MODULE: ./src/Components/Home.js\nvar Home_Home=function Home(_ref){var username=_ref.username,token=_ref.token;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"welcome\",children:[token?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"title\",children:\"Strager's Things\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"title\",children:\" Welcome to Strager's Things\"}),token?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"welcome-message\",children:[\"Welcome! You are logged in as \",username,\"!\"]}):'',token?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"profile-link\",to:\"/profile\",children:\"View Profile\"}):'',/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"the-image\",src:\"https://images-na.ssl-images-amazon.com/images/I/610wb0SooJL.png\",alt:\"image of shopping online\"})]});};/* harmony default export */ var Components_Home = (Home_Home);\n// CONCATENATED MODULE: ./src/Components/Logout.js\nvar Logout_Logout=function Logout(_ref){var setToken=_ref.setToken;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"main-link\",to:\"/\",onClick:function onClick(){return setToken('');},children:\"LOGOUT\"});};/* harmony default export */ var Components_Logout = (Logout_Logout);\n// CONCATENATED MODULE: ./src/Components/AddPosts.js\nvar AddPosts_AddPost=function AddPost(props){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var _useState9=Object(react[\"useState\"])(''),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),willDeliver=_useState10[0],setWillDeliver=_useState10[1];var token=props.token,setPosts=props.setPosts;var history=Object(react_router[\"e\" /* useHistory */])();var handleAdd=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(ev){var addPostResp,newPostResp;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:ev.preventDefault();_context.next=3;return callApi({url:'/posts',method:'POST',body:{post:{title:title,price:price,description:description,location:location,willDeliver:willDeliver}},token:token});case 3:addPostResp=_context.sent;_context.next=6;return callApi({url:'/posts',token:token});case 6:newPostResp=_context.sent;setPosts(newPostResp.data.posts);setTitle('');setPrice('');setDescription('');if(newPostResp.data.posts){history.push('/posts');}case 12:case\"end\":return _context.stop();}}},_callee);}));return function handleAdd(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:token&&/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Add New Post\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleAdd,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Title: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"*title*\",value:title,onChange:function onChange(event){setTitle(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Price: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"price\",value:price,onChange:function onChange(event){setPrice(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Description: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"description\",value:description,onChange:function onChange(event){setDescription(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Location: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"location\",value:location,onChange:function onChange(event){setLocation(event.target.value);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"fieldset\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Will Deliver? \"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"select\",{type:\"text\",value:willDeliver,onChange:function onChange(ev){return setWillDeliver(ev.target.value);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"true\",children:\"Yes\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{value:\"false\",children:\"No\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"fieldset\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"newpost-submit\",type:\"submit\",children:\"Submit\"})})]})]})});};/* harmony default export */ var AddPosts = (AddPosts_AddPost);\n// CONCATENATED MODULE: ./src/Components/MessageForm.js\nvar MessageForm_MessageForm=function MessageForm(_ref){var post=_ref.post,token=_ref.token,fetchPosts=_ref.fetchPosts;var _useParams=Object(react_router[\"f\" /* useParams */])(),postId=_useParams.postId;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),content=_useState2[0],setContent=_useState2[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(ev){var messageResp;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:ev.preventDefault();_context.next=3;return callApi({method:'POST',url:\"/posts/\".concat(postId,\"/messages\"),token:token,body:{message:{content:content}}});case 3:messageResp=_context.sent;setContent(messageResp.data.message.content);_context.next=7;return fetchPosts();case 7:setContent('');case 8:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[token&&!post.isAuthor?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:content,placeholder:\"content\",onChange:function onChange(ev){return setContent(ev.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Send Message\"})]}):'',post.isAuthor&&post.messages.length?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:content,placeholder:\"content\",onChange:function onChange(ev){return setContent(ev.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Send Message\"})]}):'']});};/* harmony default export */ var Components_MessageForm = (MessageForm_MessageForm);\n// CONCATENATED MODULE: ./src/Components/PostView.js\nvar PostView_PostView=function PostView(_ref){var posts=_ref.posts,token=_ref.token,fetchPosts=_ref.fetchPosts;var _useParams=Object(react_router[\"f\" /* useParams */])(),postId=_useParams.postId;console.log('postId',postId);var postResp=posts.find(function(post){return post._id===postId;});console.log('post: ',postResp);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Components_PostSingle,{post:postResp,children:[postResp&&postResp.messages&&postResp.messages.map(function(message){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[message.fromUser.username,\": \",message.content]},message._id);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_MessageForm,{post:postResp,token:token,fetchPosts:fetchPosts})]})});};/* harmony default export */ var Components_PostView = (PostView_PostView);\n// CONCATENATED MODULE: ./src/Components/MyProfile.js\nvar MyProfile_MyProfile=function MyProfile(_ref){var token=_ref.token,messages=_ref.messages,user=_ref.user,setMesaages=_ref.setMesaages;var history=Object(react_router[\"e\" /* useHistory */])();var handleSubmit=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var messageResp;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return callApi({url:'/users/me',token:token});case 2:messageResp=_context.sent;setMesaages(messageResp.data.messages);case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref2.apply(this,arguments);};}();if(!token){history.push('/');}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"My Profile\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{onSubmit:function onSubmit(ev){ev.preventDefault();handleSubmit();},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Click for Messages\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Sent Messages\"}),token?messages.map(function(message,idx){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:user===message.fromUser.username?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Product Title: \"}),\"\\\"\",message.post.title,\"\\\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Product ID: \"}),message.post._id]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Message Sent by Me: \"}),message.content]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{})]})}):''},idx);}):'',/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Received Messages\"}),token?messages.map(function(message,idx){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:user!==message.fromUser.username?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Product Title: \"}),\"\\\"\",message.post.title,\"\\\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Product ID: \"}),message.post._id]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Message: \"}),message.content]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\",{})]}):''},idx);}):'']});};/* harmony default export */ var Components_MyProfile = (MyProfile_MyProfile);\n// CONCATENATED MODULE: ./src/Components/Search.js\nvar Search_Search=function Search(_ref){var posts=_ref.posts,setPosts=_ref.setPosts,fetchPosts=_ref.fetchPosts;var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var postMatches=function postMatches(post,text){var check=post.includes(text);return check;};var handleSubmit=function handleSubmit(){var filteredPosts=posts.filter(function(post){return postMatches(post.title.toLowerCase(),searchTerm);});setPosts(filteredPosts);if(!searchTerm.length){fetchPosts();}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"search-form\",onSubmit:function onSubmit(event){event.preventDefault();handleSubmit();},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"search by title\",className:\"search-input\",value:searchTerm,onChange:function onChange(event){return setSearchTerm(event.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"search-btn\",children:\"Search\"})]})});};/* harmony default export */ var Components_Search = (Search_Search);\n// EXTERNAL MODULE: ./src/style.css\nvar style = __webpack_require__(33);\n\n// CONCATENATED MODULE: ./src/index.js\nvar src_REACT_APP_BASE_URL=\"https://strangers-things.herokuapp.com/api/2105-SJS-RM-WEB-PT\";var src_App=function App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useState3=Object(react[\"useState\"])(''),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),token=_useState4[0],setToken=_useState4[1];var _useState5=Object(react[\"useState\"])(''),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),user=_useState6[0],setUser=_useState6[1];var _useState7=Object(react[\"useState\"])(''),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),postId=_useState8[0],setPostId=_useState8[1];var _useState9=Object(react[\"useState\"])([]),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),messages=_useState10[0],setMessages=_useState10[1];var fetchPosts=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var response,allPosts;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return callApi({url:'/posts',token:token});case 2:response=_context.sent;allPosts=response.data.posts;if(allPosts)setPosts(allPosts);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchPosts(){return _ref.apply(this,arguments);};}();Object(react[\"useEffect\"])(function(){try{fetchPosts();}catch(error){console.log(error);}},[token]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"navbar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"main-link\",to:\"/\",children:\"HOME\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"main-link\",to:\"/posts\",children:\"POSTS\"}),token&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"main-link\",to:\"/profile\",children:\"PROFILE\"}),token?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Logout,{setToken:setToken}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"main-link\",to:\"/account/:method\",children:\"LOGIN/REGISTER\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Home,{username:user,token:token,posts:posts})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/posts\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_Search,{posts:posts,setPosts:setPosts,fetchPosts:fetchPosts}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DeletePost,{posts:posts,token:token,fetchPosts:fetchPosts,setPostId:setPostId})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/addpost\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddPosts,{token:token,setPosts:setPosts})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/posts/:postId\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_PostView,{posts:posts,token:token,fetchPosts:fetchPosts})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/profile\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_MyProfile,{token:token,messages:messages,setMesaages:setMessages,user:user})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/account/:method\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"links\",to:\"/account/login\",children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{className:\"links\",to:\"/account/register\",children:\"Register\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Components_AccountForm,{setToken:setToken,setUser:setUser})]})]})});};react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{}),document.getElementById('app'));\n\n/***/ })\n\n},[[34,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/node_modules/postcss-loader/src/index.js??postcss!/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/style.css","/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/util/index.js","/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/Components/PostSingle.js","/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/Components/DeletePost.js","/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/Components/AccountForm.js","/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/Components/Home.js","/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/Components/Logout.js","/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/Components/AddPosts.js","/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/Components/MessageForm.js","/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/Components/PostView.js","/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/Components/MyProfile.js","/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/Components/Search.js","/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/index.js"],"names":["REACT_APP_BASE_URL","process","callApi","url","method","token","body","options","toUpperCase","headers","JSON","stringify","fetch","response","json","data","error","console","PostSingle","post","children","author","username","title","price","description","location","willDeliver","DeletePosts","props","posts","setPostId","fetchPosts","handleDelete","postId","deleteResp","map","_id","isAuthor","AccountForm","setToken","setUser","useState","setUsername","password","setPassword","params","useParams","history","useHistory","event","preventDefault","user","loginResp","userResp","push","target","value","Home","Logout","AddPost","setTitle","setPrice","setDescription","setLocation","setWillDeliver","setPosts","handleAdd","ev","addPostResp","newPostResp","MessageForm","content","setContent","handleSubmit","message","messageResp","messages","length","PostView","log","postResp","find","fromUser","MyProfile","setMesaages","idx","Search","searchTerm","setSearchTerm","postMatches","text","check","includes","filteredPosts","filter","toLowerCase","App","setMessages","allPosts","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","const { REACT_APP_BASE_URL } = process.env;\n\nexport const callApi = async ({ url, method, token, body }) => {\n    try {\n        const options = {\n            method: method ? method.toUpperCase() : 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(body)\n        };\n        if (token) options.headers['Authorization'] = `Bearer ${token}`;\n        const response = await fetch(`${REACT_APP_BASE_URL}${url}`, options);\n        const data = await response.json();\n        if(data.error) {\n             (data.error);\n        }\n        return data;\n    } catch (error) {\n        console.error(error)\n    }\n}\n","import React from 'react';\n\nconst PostSingle = ({post, children}) => {\n    return (post\n        ? <div className=\"single-post\">\n            <h3><b>Seller's Username: {post.author.username}</b></h3>\n            <div><b><i>{post.title}</i></b></div>\n            <div>Price: {post.price ? post.price : '[On Request]'}</div>\n            <div>Description: {post.description}</div>\n            <div>Location: {post.location ? post.location : '[On Request]'}</div>\n            <div>Will Deliver? -- {post.willDeliver ? 'yes' : 'no'}</div>\n            {\n                children\n            }\n        </div>\n        : 'Loading....'\n    )\n}\n\nexport default PostSingle;","import React from 'react';\nimport { callApi } from '../util';\nimport PostSingle from './PostSingle';\nimport { Link } from 'react-router-dom';\n\nconst DeletePosts = (props) => {\n    const { posts, setPostId, token, fetchPosts } = props;\n\n    const handleDelete = async (postId) => {\n        const deleteResp = await callApi({\n            method: 'DELETE',\n            url: `/posts/${postId}`,\n            token\n        });\n        await fetchPosts();\n    }\n        \n    return <>\n        {\n            token ? <Link className=\"add-post-link\" to='/addpost'>Add Post</Link> : ''\n        }\n        <h1>Posts</h1>\n        {\n            posts.map(post => <PostSingle id=\"posts\" key={post._id} post={post} token={token}>\n                <Link to={`/posts/${post._id}`}>Details</Link>\n                {\n                    post.isAuthor && <button onClick={() => handleDelete(post._id)}>Delete Post</button>\n                }\n            </PostSingle>\n            )\n        }\n    </>\n}\n\nexport default DeletePosts;","import React, { useState } from 'react';\nimport { useParams, useHistory } from 'react-router';\n\nimport { callApi } from '../util';\n\nconst { REACT_APP_BASE_URL } = process.env;\n\nconst AccountForm = ({setToken, setUser}) => {\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const params = useParams();\n    const history = useHistory();\n\n    return <>\n        <form \n        className=\"inputs\" \n        onSubmit={ async (event) => {\n            event.preventDefault();\n\n            const loginResp = await callApi({\n                url: `/users/${params.method}`,\n                method: 'POST',\n                body: {\n                    user: {\n                        username,\n                        password\n                    }\n                }\n            });\n            if (loginResp.data) {\n                const userResp = await callApi({url: '/users/me', token: loginResp.data.token});\n                setToken(loginResp.data.token);\n                setUser(userResp.data.username)\n                if (loginResp.data.token) {\n                    history.push('/'); \n                }\n                if (!password) {\n                    throw ('wrong username or password')\n                }\n            }\n        }}>\n            <input className=\"inputs\" type=\"text\" placeholder=\"Enter Username\" minLength={8} value={username} onChange={(event) => setUsername(event.target.value)}></input>\n            <input className=\"inputs\" type=\"password\" placeholder=\"Enter Password\" minLength={8} value={password} onChange={(event) => setPassword(event.target.value)}></input>\n            <button className=\"btn-input\" type=\"submit\">Submit</button>\n        </form>\n    </>\n}\n\nexport default AccountForm;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nconst Home = ({username, token}) => {\n    return (<div id=\"welcome\">\n        {\n            token ? <h1 className=\"title\">Strager's Things</h1> : <h1 className=\"title\"> Welcome to Strager's Things</h1>\n        }\n        {\n            token ? <div className=\"welcome-message\">Welcome! You are logged in as {username}!</div> : ''\n        }\n        {\n            token ? <Link className=\"profile-link\" to=\"/profile\">View Profile</Link> : ''\n        }\n        <img className=\"the-image\" src=\"https://images-na.ssl-images-amazon.com/images/I/610wb0SooJL.png\" alt=\"image of shopping online\"></img>\n    </div>\n    )\n}\n\nexport default Home;","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n\nconst Logout = ({setToken}) => {\n    return <Link className=\"main-link\" to=\"/\" onClick={() => setToken('')}>LOGOUT</Link>\n}\n\nexport default Logout;","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { callApi } from '../util';\n\nconst AddPost = (props) => {\n    const [title, setTitle] = useState('');\n    const [price, setPrice] = useState('');\n    const [description, setDescription] = useState('');\n    const [location, setLocation] = useState('')\n    const [willDeliver, setWillDeliver] = useState('')\n\n    const { token, setPosts } = props\n    const history = useHistory();\n\n    const handleAdd = async (ev) => {\n        ev.preventDefault();\n        const addPostResp = await callApi({\n            url: '/posts', \n            method: 'POST', \n            body: {\n                post: {\n                    title,\n                    price, \n                    description,\n                    location,\n                    willDeliver\n                }}, \n            token});\n            const newPostResp = await callApi({url: '/posts', token});\n            setPosts(newPostResp.data.posts);\n            setTitle('');\n            setPrice('');\n            setDescription('');\n            if(newPostResp.data.posts) {\n                history.push('/posts');\n            }\n    }\n    return <>\n    {\n        token &&\n        <div>\n            <h1>Add New Post</h1>\n            <form onSubmit={handleAdd}>\n                <fieldset>\n                    <label>Title: </label>\n                    <input type=\"text\" placeholder=\"*title*\" value={title} onChange={(event) => {setTitle(event.target.value)}}></input>\n                </fieldset>\n                <fieldset>\n                    <label>Price: </label>\n                    <input type=\"text\" placeholder=\"price\" value={price} onChange={(event) => {setPrice(event.target.value)}}></input>\n                </fieldset>\n                <fieldset>\n                    <label>Description: </label>\n                    <input type=\"text\" placeholder=\"description\" value={description} onChange={(event) => {setDescription(event.target.value)}}></input>\n                </fieldset>\n                <fieldset>\n                    <label>Location: </label>\n                    <input type=\"text\" placeholder=\"location\" value={location} onChange={(event) => {setLocation(event.target.value)}}></input>\n                </fieldset>\n                <fieldset>\n                    <label>Will Deliver? </label>\n                    <select type=\"text\" value={willDeliver} onChange={(ev) => setWillDeliver(ev.target.value)}>\n                        <option value=\"\">Select</option>\n                        <option value=\"true\">Yes</option>\n                        <option value=\"false\">No</option>\n                    </select>\n                </fieldset>\n                <fieldset>\n                    <button className=\"newpost-submit\" type=\"submit\">Submit</button>\n                </fieldset>\n            </form>\n        </div>    \n    }\n    </>\n}\n\nexport default AddPost;\n","import React, { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { callApi } from '../util';\n\n\nconst MessageForm = ({post, token, fetchPosts}) => {\n    const { postId } = useParams();\n    const [content, setContent] = useState('');\n    const handleSubmit = async (ev) => {\n        ev.preventDefault();\n        const messageResp = await callApi({\n            method: 'POST',\n            url: `/posts/${postId}/messages`,\n            token,\n            body: {\n                message: {\n                    content\n                }\n            }\n        });\n        setContent(messageResp.data.message.content);\n        await fetchPosts()\n        setContent('');\n    }\n    return <>\n        { \n        token && !post.isAuthor ?\n            <form onSubmit={handleSubmit}>\n                <input value={content} placeholder=\"content\" onChange={(ev) => setContent(ev.target.value)}></input>\n                <button type=\"submit\">Send Message</button>\n            </form>\n            : ''\n        }\n        {\n            post.isAuthor && post.messages.length ?\n            <form onSubmit={handleSubmit}>\n                <input value={content} placeholder=\"content\" onChange={(ev) => setContent(ev.target.value)}></input>\n                <button type=\"submit\">Send Message</button>\n            </form>\n            : ''\n        }\n    </>\n}\n\nexport default MessageForm;","import React from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport PostSingle from './PostSingle';\nimport MessageForm from './MessageForm';\n\nconst PostView = ({posts, token, fetchPosts}) => {\n    const { postId } = useParams();\n    console.log('postId', postId);\n    const postResp = posts.find(post => post._id === postId);\n    console.log('post: ', postResp)\n    return <>\n        <PostSingle post={postResp} >\n            {\n                postResp && postResp.messages && postResp.messages.map(message => <div key={message._id}>{message.fromUser.username}: {message.content}</div>)\n            }\n            <MessageForm post={postResp} token={token} fetchPosts={fetchPosts} />\n        </PostSingle>\n    </>\n}\n\nexport default PostView;","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { callApi } from '../util';\n\nconst MyProfile = ({ token, messages, user, setMesaages}) => {\n    const history = useHistory();\n\n    const handleSubmit = async () => {\n        const messageResp = await callApi({\n            url: '/users/me',\n            token\n        });\n        setMesaages(messageResp.data.messages);    \n    }\n    if(!token) {\n        history.push('/')\n    }\n\n    return <>\n    <h1>My Profile</h1>\n    <form onSubmit={(ev) => {\n        ev.preventDefault();\n        handleSubmit()\n    }}>\n        <button type=\"submit\">Click for Messages</button>\n    </form>\n    <h2>Sent Messages</h2>\n    {\n        token ? \n        messages.map((message, idx) => {\n            return <div key={idx} >\n                {\n                    user === message.fromUser.username ?\n                    <>\n                    <div>\n                        <div><b>Product Title: </b>\"{message.post.title}\" </div>\n                        <div><b>Product ID: </b>{message.post._id}</div>\n                        <div><b>Message Sent by Me: </b>{message.content}</div> \n                        <hr></hr>\n                    </div>\n                    </>\n                    : ''\n                }\n            </div>\n        }) : ''\n    }\n    <h2>Received Messages</h2>\n    {\n        token ? \n        messages.map((message, idx) => {\n            return <div key={idx} >\n                {\n                    user !== message.fromUser.username ?\n                    <>\n                        <div><b>Product Title: </b>\"{message.post.title}\" </div>\n                        <div><b>Product ID: </b>{message.post._id}</div>\n                        <div><b>Message: </b>{message.content}</div> \n                        <hr></hr>\n                    </>\n                    : ''\n                }\n            </div>\n        }) : ''\n    }\n    </>        \n}\nexport default MyProfile;","import React, { useState } from 'react';\n\nconst Search =  ({posts, setPosts, fetchPosts}) => {\n    const [searchTerm, setSearchTerm] = useState('');\n\n    const postMatches = (post, text) => {\n        let check = post.includes(text);\n        return check;\n    }\n    const handleSubmit = () => {\n        const filteredPosts = posts.filter(post => postMatches(post.title.toLowerCase(), searchTerm));\n        setPosts(filteredPosts);\n        if (!searchTerm.length) {\n            fetchPosts();\n        }\n    }\n\n    return <>\n        <form className=\"search-form\" onSubmit={(event) => {\n            event.preventDefault();\n            handleSubmit();\n        }}>\n            <input type=\"text\" placeholder=\"search by title\" className=\"search-input\" value={searchTerm} onChange={(event) => setSearchTerm(event.target.value)}></input>\n            <button type=\"submit\" className=\"search-btn\">Search</button>\n        </form>\n    </>\n}\n\nexport default Search;","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, Route, Link } from 'react-router-dom';\n\nimport DeletePosts from './Components/DeletePost';\nimport AccountForm from './Components/AccountForm';\nimport Home from './Components/Home';\nimport Logout from './Components/Logout';\nimport AddPost from './Components/AddPosts';\nimport PostView from './Components/PostView';\nimport MyProfile from './Components/MyProfile';\nimport Search from './Components/Search';\n\n\nimport '../src/style.css'\nimport { callApi } from './util';\n\nconst { REACT_APP_BASE_URL } = process.env;\n\nconst App = () => {\n    const [posts, setPosts] = useState([]);\n    const [token, setToken] = useState('');\n    const [user, setUser] = useState('');\n    const [postId, setPostId] = useState('');\n    const [messages, setMessages] = useState([]);\n    \n    const fetchPosts = async () => {\n        const response = await callApi({\n            url: '/posts',\n            token\n        });\n        const allPosts = response.data.posts;\n        if(allPosts) setPosts(allPosts);\n    }\n    \n    useEffect(() => {\n        try {\n            fetchPosts();\n            } catch (error) {\n                console.log(error);\n            }\n        }, [token])\n\n  return (\n    <BrowserRouter>\n        <div id=\"container\">\n            <div className=\"navbar\">\n                <Link className=\"main-link\" to=\"/\">HOME</Link>\n                <Link className=\"main-link\" to=\"/posts\">POSTS</Link>\n                {\n                    token && <Link className=\"main-link\" to=\"/profile\">PROFILE</Link>\n                }\n                {\n                    token ? <Logout setToken={setToken}/> : <Link className=\"main-link\" to=\"/account/:method\">LOGIN/REGISTER</Link>\n                }\n            </div>\n            <Route exact path=\"/\">\n                <Home username={user} token={token} posts={posts}/>\n            </Route>\n            <Route exact path=\"/posts\">\n                <Search posts={posts} setPosts={setPosts} fetchPosts={fetchPosts}/>\n                <DeletePosts posts={posts} token={token} fetchPosts={fetchPosts} setPostId={setPostId} />\n            </Route>\n            <Route exact path=\"/addpost\">\n                <AddPost token={token} setPosts={setPosts} />\n            </Route>\n            <Route exact path=\"/posts/:postId\">\n                <PostView posts={posts} token={token} fetchPosts={fetchPosts}/>\n            </Route>\n            <Route exact path=\"/profile\">\n                <MyProfile token={token} messages={messages} setMesaages={setMessages} user={user}/>\n            </Route>\n            <Route exact path=\"/account/:method\">\n                <Link className=\"links\" to=\"/account/login\">Login</Link> \n                <Link className=\"links\" to=\"/account/register\">Register</Link>\n                <AccountForm setToken={setToken} setUser={setUser}/>   \n            </Route>\n        </div>\n    </BrowserRouter>\n  )\n}\nReactDOM.render(\n  <App />,\n  document.getElementById('app'),\n);"]}}