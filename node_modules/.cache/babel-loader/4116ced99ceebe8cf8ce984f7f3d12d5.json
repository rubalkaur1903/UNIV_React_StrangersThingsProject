{"ast":null,"code":"import _regeneratorRuntime from\"/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";var REACT_APP_BASE_URL=process.env.REACT_APP_BASE_URL;export var callApi=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var url,method,token,body,options,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=_ref.url,method=_ref.method,token=_ref.token,body=_ref.body;_context.prev=1;options={method:method?method.toUpperCase():'GET',headers:{'Content-Type':'application/json'},body:JSON.stringify(body)};if(token)options.headers['Authorization']=\"Bearer \".concat(token);_context.next=6;return fetch(\"\".concat(REACT_APP_BASE_URL).concat(url),options);case 6:response=_context.sent;_context.next=9;return response.json();case 9:data=_context.sent;if(data.error){data.error;}return _context.abrupt(\"return\",data);case 14:_context.prev=14;_context.t0=_context[\"catch\"](1);console.error(_context.t0);case 17:case\"end\":return _context.stop();}}},_callee,null,[[1,14]]);}));return function callApi(_x){return _ref2.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/util/index.js"],"names":["REACT_APP_BASE_URL","process","env","callApi","url","method","token","body","options","toUpperCase","headers","JSON","stringify","fetch","response","json","data","error","console"],"mappings":"iSAAA,GAAQA,CAAAA,kBAAR,CAA+BC,OAAO,CAACC,GAAvC,CAAQF,kBAAR,CAEA,MAAO,IAAMG,CAAAA,OAAO,2FAAG,uLAASC,GAAT,MAASA,GAAT,CAAcC,MAAd,MAAcA,MAAd,CAAsBC,KAAtB,MAAsBA,KAAtB,CAA6BC,IAA7B,MAA6BA,IAA7B,iBAETC,OAFS,CAEC,CACZH,MAAM,CAAEA,MAAM,CAAGA,MAAM,CAACI,WAAP,EAAH,CAA0B,KAD5B,CAEZC,OAAO,CAAE,CACL,eAAgB,kBADX,CAFG,CAKZH,IAAI,CAAEI,IAAI,CAACC,SAAL,CAAeL,IAAf,CALM,CAFD,CASf,GAAID,KAAJ,CAAWE,OAAO,CAACE,OAAR,CAAgB,eAAhB,mBAA6CJ,KAA7C,EATI,sBAUQO,CAAAA,KAAK,WAAIb,kBAAJ,SAAyBI,GAAzB,EAAgCI,OAAhC,CAVb,QAUTM,QAVS,qCAWIA,CAAAA,QAAQ,CAACC,IAAT,EAXJ,QAWTC,IAXS,eAYf,GAAGA,IAAI,CAACC,KAAR,CAAe,CACTD,IAAI,CAACC,KAAN,CACJ,CAdc,gCAeRD,IAfQ,4DAiBfE,OAAO,CAACD,KAAR,cAjBe,qEAAH,kBAAPd,CAAAA,OAAO,6CAAb","sourcesContent":["const { REACT_APP_BASE_URL } = process.env;\n\nexport const callApi = async ({ url, method, token, body }) => {\n    try {\n        const options = {\n            method: method ? method.toUpperCase() : 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(body)\n        };\n        if (token) options.headers['Authorization'] = `Bearer ${token}`;\n        const response = await fetch(`${REACT_APP_BASE_URL}${url}`, options);\n        const data = await response.json();\n        if(data.error) {\n             (data.error);\n        }\n        return data;\n    } catch (error) {\n        console.error(error)\n    }\n}\n"]},"metadata":{},"sourceType":"module"}