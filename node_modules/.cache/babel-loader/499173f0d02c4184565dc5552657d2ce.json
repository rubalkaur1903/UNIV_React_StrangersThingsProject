{"ast":null,"code":"var _jsxFileName = \"/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/Components/AddPosts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { callApi } from '../util';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AddPost = ({\n  token,\n  setPosts\n}) => {\n  _s();\n\n  const [title, setTitle] = useState('');\n  const [price, setPrice] = useState('');\n  const [description, setDescription] = useState('');\n  const history = useHistory();\n\n  const handleAdd = async ev => {\n    ev.preventDefault();\n    const addPostResp = await callApi({\n      url: '/posts',\n      method: 'POST',\n      body: {\n        post: {\n          title,\n          price,\n          description\n        }\n      },\n      token\n    });\n    const newPostResp = await callApi({\n      url: '/posts',\n      token\n    });\n    console.log('newPostResp', newPostResp);\n    setPosts(newPostResp.data.posts);\n    setTitle('');\n    setPrice('');\n    setDescription('');\n\n    if (newPostResp.data.posts) {\n      history.push('/posts');\n    }\n\n    if (!token) {\n      history.push('/');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: token ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Add New Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleAdd,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"title\",\n          value: title,\n          onChange: event => {\n            setTitle(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"price\",\n          value: price,\n          onChange: event => {\n            setPrice(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"description\",\n          value: description,\n          onChange: event => {\n            setDescription(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true) : null\n  }, void 0, false);\n};\n\n_s(AddPost, \"eev2ECHwzEQsEfUMd45BUj51Jo4=\", false, function () {\n  return [useHistory];\n});\n\n_c = AddPost;\nexport default AddPost;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddPost\");","map":{"version":3,"sources":["/Users/rubalkaur/MyCourseWork/UNIV_React_StrangersThingsProject/src/Components/AddPosts.js"],"names":["React","useState","useHistory","callApi","AddPost","token","setPosts","title","setTitle","price","setPrice","description","setDescription","history","handleAdd","ev","preventDefault","addPostResp","url","method","body","post","newPostResp","console","log","data","posts","push","event","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { callApi } from '../util';\n\nconst AddPost = ({token, setPosts}) => {\n    const [title, setTitle] = useState('');\n    const [price, setPrice] = useState('');\n    const [description, setDescription] = useState('');\n\n    const history = useHistory();\n\n    const handleAdd = async (ev) => {\n        ev.preventDefault();\n        const addPostResp = await callApi({\n            url: '/posts', \n            method: 'POST', \n            body: {\n                post: {\n                    title,\n                    price, \n                    description\n                }}, \n            token});\n            const newPostResp = await callApi({url: '/posts', token});\n            console.log('newPostResp', newPostResp)\n            setPosts(newPostResp.data.posts);\n            setTitle('');\n            setPrice('');\n            setDescription('');\n            if(newPostResp.data.posts) {\n                history.push('/posts');\n            }\n            if (!token) {\n                history.push('/')\n            }\n    }\n\n    return <>\n    {\n        token ?\n        <>\n            <h1>Add New Post</h1>\n            <form onSubmit={handleAdd}>\n                <input type=\"text\" placeholder=\"title\" value={title} onChange={(event) => {setTitle(event.target.value)}}></input>\n                <input type=\"text\" placeholder=\"price\" value={price} onChange={(event) => {setPrice(event.target.value)}}></input>\n                <input type=\"text\" placeholder=\"description\" value={description} onChange={(event) => {setDescription(event.target.value)}}></input>\n                <button type=\"submit\">Submit</button>\n            </form>\n        </>\n        : null\n    }  \n    </>\n}\n\nexport default AddPost;\n"]},"metadata":{},"sourceType":"module"}